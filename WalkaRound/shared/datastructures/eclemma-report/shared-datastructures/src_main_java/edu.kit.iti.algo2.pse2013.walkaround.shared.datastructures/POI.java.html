<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="de"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>POI.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">shared-Test (16.08.2013 05:45:25)</a> &gt; <a href="../../index.html" class="el_group">shared-datastructures</a> &gt; <a href="../index.html" class="el_bundle">src/main/java</a> &gt; <a href="index.html" class="el_package">edu.kit.iti.algo2.pse2013.walkaround.shared.datastructures</a> &gt; <span class="el_source">POI.java</span></div><h1>POI.java</h1><pre class="source lang-java linenums">package edu.kit.iti.algo2.pse2013.walkaround.shared.datastructures;

import edu.kit.iti.algo2.pse2013.walkaround.shared.geometry.Geometrizable;

import java.net.MalformedURLException;
import java.net.URL;
import java.util.Arrays;

/**
 * This class represents a POI.
 *
 * @author Matthias Stumpp
 * @version 1.0
 */
public class POI extends Location implements Geometrizable {

	/**
	 * text info of POI.
	 */
	private String textInfo;

	/**
	 * url of image of POI.
	 */
	private URL url;

	/**
	 * poi categories of POI.
	 */
	private int[] poiCategories;

	/**
	 * Creates an instance of POI.
	 *
	 * @param lat
	 *            Latitude of POI.
	 * @param lon
	 *            Longitude of POI.
	 * @param name
	 *            Name of POI.
	 * @param textInfo
	 *            Text info of POI.
	 * @param url
	 *            URL of an image of POI.
	 * @param poiCategories
	 *            Categories of POI.
	 */
	public POI(double lat, double lon, String name, String textInfo, URL url, int[] poiCategories) {
<span class="fc bfc" id="L49" title="All 2 branches covered.">		this(lat, lon, name, textInfo, url, poiCategories = (poiCategories == null?new int[0]:poiCategories), null);</span>
<span class="fc" id="L50">	}</span>

	/**
	 * Creates an instance of POI. This is for example useful when parsing from
	 * a PBF-File.
	 *
	 * @param loc
	 *            A prototype of the POI, which will be created. It contains all
	 *            attributes, that are inherited by the superclass Location
	 * @param textInfo
	 *            Textinfo of POI
	 * @param url
	 *            an URL to an image of the POI
	 * @param poiCategories
	 *            the POI-Categories, this POI belongs to
	 */
	public POI(Location loc, String textInfo, URL url, int[] poiCategories) {
<span class="fc bfc" id="L67" title="All 2 branches covered.">		this(loc.getLatitude(), loc.getLongitude(), loc.getName(), textInfo, url, poiCategories = (poiCategories == null?new int[0]:poiCategories));</span>
<span class="fc" id="L68">	}</span>

	/**
	 * Creates an instance of POI.
	 *
	 * @param lat
	 *            Latitude of POI.
	 * @param lon
	 *            Longitude of POI.
	 * @param name
	 *            Name of POI.
	 * @param textInfo
	 *            Text info of POI.
	 * @param url
	 *            URL of an image of POI.
	 * @param poiCategories
	 *            Categories of POI.
	 * @param address
	 *            Address of POI.
	 */
	public POI(double lat, double lon, String name, String textInfo, URL url, int[] poiCategories, Address address) {
<span class="fc" id="L89">		super(lat, lon, name, address);</span>
<span class="fc" id="L90">		this.textInfo = textInfo;</span>
<span class="fc" id="L91">		this.url = url;</span>
<span class="fc bfc" id="L92" title="All 2 branches covered.">		this.poiCategories = (poiCategories == null?new int[0]:poiCategories);</span>
<span class="fc" id="L93">	}</span>

	/**
	 * Sets the textual information of this POI.
	 *
	 * @param text
	 *            text to set
	 */
	public void setTextInfo(String text) {
<span class="fc" id="L102">		this.textInfo = text;</span>
<span class="fc" id="L103">	}</span>

	/**
	 * Returns text info of POI.
	 *
	 * @return String.
	 */
	public String getTextInfo() {
<span class="fc" id="L111">		return textInfo;</span>
	}

	/**
	 * Sets the url of an image of this POI.
	 *
	 * @param url String
	 */
	public void setURL(URL url) {
<span class="fc" id="L120">		this.url = url;</span>
<span class="fc" id="L121">	}</span>

	/**
	 * Returns an url of the image for this POI.
	 *
	 * @return URL
	 */
	public URL getURL() {
<span class="fc" id="L129">		return url;</span>
	}

	/**
	 * Returns all categories of POI.
	 *
	 * @return A list of category-IDs
	 */
	public int[] getPOICategories() {
<span class="fc" id="L138">		return poiCategories;</span>
	}

	public String toString() {
<span class="fc" id="L142">		String result = &quot;POI:\n\t&quot;</span>
<span class="fc" id="L143">				+ &quot;\n\tLocation: &quot; + super.toString()</span>
<span class="fc" id="L144">				+ &quot;\n\tTextInfo: &quot; + getTextInfo()</span>
<span class="pc bpc" id="L145" title="1 of 2 branches missed.">				+ &quot;\n\tURL: &quot; + (getURL() != null ? getURL().toExternalForm() : &quot;&quot;)</span>
<span class="fc" id="L146">				+ &quot;\n\tPOI-Categories: &quot;;</span>
<span class="pc bpc" id="L147" title="1 of 2 branches missed.">		if (poiCategories != null) {</span>
<span class="fc bfc" id="L148" title="All 2 branches covered.">			for (int i : getPOICategories()) {</span>
<span class="fc" id="L149">				result += &quot; &quot; + i;</span>
			}
<span class="fc" id="L151">		} else {</span>
<span class="nc" id="L152">			result += &quot;none&quot;;</span>
		}
<span class="fc" id="L154">		return result;</span>
	}


	/* (non-Javadoc)
	 * @see java.lang.Object#hashCode()
	 */
	@Override
	public int hashCode() {
<span class="fc" id="L163">		final int prime = 31;</span>
<span class="fc" id="L164">		int result = super.hashCode();</span>
<span class="fc" id="L165">		result = prime * result + Arrays.hashCode(poiCategories);</span>
<span class="fc" id="L166">		result = prime * result</span>
<span class="fc bfc" id="L167" title="All 2 branches covered.">				+ ((textInfo == null) ? 0 : textInfo.hashCode());</span>
<span class="fc bfc" id="L168" title="All 2 branches covered.">		result = prime * result + ((url == null) ? 0 : url.hashCode());</span>
<span class="fc" id="L169">		return result;</span>
	}

	/* (non-Javadoc)
	 * @see java.lang.Object#equals(java.lang.Object)
	 */
	@Override
	public boolean equals(Object obj) {
<span class="fc bfc" id="L177" title="All 2 branches covered.">		if (this == obj) {</span>
<span class="fc" id="L178">			return true;</span>
		}
<span class="fc bfc" id="L180" title="All 2 branches covered.">		if (!super.equals(obj)) {</span>
<span class="fc" id="L181">			return false;</span>
		}
<span class="pc bpc" id="L183" title="1 of 2 branches missed.">		if (!(obj instanceof POI)) {</span>
<span class="nc" id="L184">			return false;</span>
		}
<span class="fc" id="L186">		POI other = (POI) obj;</span>
<span class="pc bpc" id="L187" title="1 of 2 branches missed.">		if (!Arrays.equals(poiCategories, other.poiCategories)) {</span>
<span class="nc" id="L188">			return false;</span>
		}
<span class="fc bfc" id="L190" title="All 2 branches covered.">		if (textInfo == null) {</span>
<span class="pc bpc" id="L191" title="1 of 2 branches missed.">			if (other.textInfo != null) {</span>
<span class="nc" id="L192">				return false;</span>
			}
<span class="pc bpc" id="L194" title="1 of 2 branches missed.">		} else if (!textInfo.equals(other.textInfo)) {</span>
<span class="nc" id="L195">			return false;</span>
		}
<span class="fc bfc" id="L197" title="All 2 branches covered.">		if (url == null) {</span>
<span class="pc bpc" id="L198" title="1 of 2 branches missed.">			if (other.url != null) {</span>
<span class="nc" id="L199">				return false;</span>
			}
<span class="pc bpc" id="L201" title="1 of 2 branches missed.">		} else if (!url.equals(other.url)) {</span>
<span class="nc" id="L202">			return false;</span>
		}
<span class="fc" id="L204">		return true;</span>
	}

	@Override
	public POI clone() {
<span class="fc" id="L209">    	URL newURL = null;</span>
		try {
<span class="fc bfc" id="L211" title="All 2 branches covered.">			if (getURL() != null) {</span>
<span class="fc" id="L212">				newURL = new URL(getURL().toExternalForm());</span>
			}
<span class="pc" id="L214">		} catch (MalformedURLException e) { }</span>
<span class="fc bfc" id="L215" title="All 2 branches covered.">		String textInfo = getTextInfo() == null ? null : new String(getTextInfo());</span>
<span class="fc" id="L216">		return new POI(super.clone(), textInfo, newURL, Arrays.copyOf(getPOICategories(), getPOICategories().length));</span>
	}


    // Geometrizable Interface

    /* (non-Javadoc)
     * @see edu.kit.iti.algo2.pse2013.walkaround.shared.geometry.Geometrizable#valueForDimension()
     */
    public int numberDimensions() {
<span class="fc" id="L226">        return 2;</span>
    }


    /* (non-Javadoc)
     * @see edu.kit.iti.algo2.pse2013.walkaround.shared.geometry.Geometrizable#valueForDimension(int)
     */
    public double valueForDimension(int dim) {

<span class="pc bpc" id="L235" title="2 of 4 branches missed.">        if (dim &lt; 0 || dim &gt; numberDimensions()-1)</span>
<span class="nc" id="L236">            throw new IllegalArgumentException(&quot;dim out of range&quot;);</span>

<span class="fc bfc" id="L238" title="All 2 branches covered.">        if (dim == 0)</span>
<span class="fc" id="L239">            return getLatitude();</span>
        else
<span class="fc" id="L241">            return getLongitude();</span>
    }


    /* (non-Javadoc)
     * @see edu.kit.iti.algo2.pse2013.walkaround.shared.geometry.Geometrizable#numberNodes()
     */
    public int numberNodes() {
<span class="fc" id="L249">        return 1;</span>
    }


    /* (non-Javadoc)
     * @see edu.kit.iti.algo2.pse2013.walkaround.shared.geometry.Geometrizable#getNode(int nodeNumber)
     */
    public Geometrizable getNode(int nodeNumber) {

<span class="pc bpc" id="L258" title="2 of 4 branches missed.">        if (nodeNumber &lt; 0 || (nodeNumber &gt; numberNodes()-1))</span>
<span class="nc" id="L259">            throw new IllegalArgumentException(&quot;node number out of range&quot;);</span>

<span class="fc" id="L261">        return this;</span>
    }


    @Override
    public int compareTo(Object o) {
<span class="nc bnc" id="L267" title="All 2 branches missed.">        if (this.getId() &gt; ((POI)o).getId()) {</span>
<span class="nc" id="L268">            return 1;</span>
<span class="nc bnc" id="L269" title="All 2 branches missed.">        } else if (this.getId() &lt; ((POI)o).getId()) {</span>
<span class="nc" id="L270">            return -1;</span>
        }
<span class="nc" id="L272">        return 0;</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.3.201306030806</span>shared-Test (16.08.2013 05:45:25)</div></body></html>