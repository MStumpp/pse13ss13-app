<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="de"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>TileUtility.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">walkaround-tests (16.08.2013 02:31:21)</a> &gt; <a href="../../index.html" class="el_group">walkaround-app</a> &gt; <a href="../index.html" class="el_bundle">src/main/java</a> &gt; <a href="index.html" class="el_package">edu.kit.iti.algo2.pse2013.walkaround.client.model.util</a> &gt; <span class="el_source">TileUtility.java</span></div><h1>TileUtility.java</h1><pre class="source lang-java linenums">package edu.kit.iti.algo2.pse2013.walkaround.client.model.util;

import edu.kit.iti.algo2.pse2013.walkaround.shared.datastructures.Coordinate;

/**
 * This class provides methods which are needed by the map model and the tile
 * fetcher.
 *
 * @author the team from OpenStreetMap-Wiki
 * @see &lt;a
 *      href=&quot;http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#Java&quot;&gt;Slippy
 *      Map tilenames&lt;/a&gt;
 */
public final class TileUtility {

	/**
	 * This class is an utility class which is not instantiated.
	 */
<span class="nc" id="L19">	private TileUtility() {</span>

<span class="nc" id="L21">	}</span>

	/**
	 * Calculates the x- and y-Part of the tile URL for a given Coordinate
	 * anywhere on that tile
	 *
	 * @param c
	 *            a geographical coordinate which should lie on the tile with
	 *            the returned indices
	 * @param levelOfDetail
	 *            the &quot;tile zoom level&quot; for which the calculation should be made
	 * @return an array of exactly length 2 containing the x- and y-part of the
	 *         map-tile URL (in that order)
	 */
	public static int[] getXYTileIndex(Coordinate c, int levelOfDetail) {
<span class="nc" id="L36">		return new int[] {</span>
<span class="nc" id="L37">				(int) Math.floor((c.getLongitude() + 180) / 360</span>
<span class="nc" id="L38">						* (1 &lt;&lt; levelOfDetail)),</span>
<span class="nc" id="L39">				(int) Math.floor((1 - Math.log(Math.tan(Math.toRadians(c</span>
<span class="nc" id="L40">						.getLatitude()))</span>
<span class="nc" id="L41">						+ 1</span>
<span class="nc" id="L42">						/ Math.cos(Math.toRadians(c.getLatitude()))) / Math.PI)</span>
<span class="nc" id="L43">						/ 2 * (1 &lt;&lt; levelOfDetail)) };</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.3.201306030806</span>walkaround-tests (16.08.2013 02:31:21)</div></body></html>